# 4.7 서보건 용접 시 판넬두께 이상 검출

thickcheck 명령어는 서보건 용접 시 판넬 두께를 계측하여 부품의 이상과 소재의 장착 누락을 검지하는 기능입니다.

<br>

### 설명

 ```spot``` 명령문 앞에  ```thickcheck``` 명령문을 추가하여 측정 판넬 두께와 입력된 정상 판넬두께를 비교합니다.

- 허용오차를 크게 설정하면 이상 검출이 안 될 수 있습니다.
- 스폿용접건의 타입이 서보건 일때 만 지원합니다.

- 판넬 이상 검지 시 처리 방식을 지정합니다. 
  - 분기행이 기록되지 않으면 “E1493 측정된 판넬 두께가 정상범위를 벗어남”을 발생하여 로봇이 정지되며 “판넬 두께 이상”에 설정된 출력신호를 ON 합니다. (```spot``` 명령어 미완료)
  - 분기행이 기록되어 있으면 “W0152 측정된 판넬 두께가 정상범위를 벗어남”을 발생하고 분기행으로 점프하여 로봇은 계속 동작합니다. 이 경우는 “판넬 두께 이상”에 설정된 출력신호를 200 ms만 ON 합니다.

<br>

### 문법

```python
thickcheck thick=<측정판넬두께>,ref=<정상판넬두께>,tol=<허용오차>,addr=<회피주소>
```
<br>

### 파라미터

|   항목   | 　    의미    |  기타 |
| :-----------: |:-----------: |:----: |
|    측정판넬두께    | 측정한 판넬두께를 저장할 변수 지정 | 지역/전역변수 |
|    입력판넬두께   | 정상 판넬 두께 지정|  |
|   허용오차  | 측정두께와 입력두께의 오차 허용 범위 |  |
|   회피주소  | 에러발생시 회피 주소 지정 | 미기입 가능 |

<br>

### 사용 예

```python
S1   move P,spd=60%,accu=0,tool=1  
S2   move P,spd=60%,accu=0,tool=1  
     thickcheck thick=v0,ref=4.0,tol=1.0,addr=S3
     spot gun=1,cnd=1,seq=1
S3   move P,spd=60%,accu=0,tool=1  
     end
```

{% hint style="info" %}
판넬의 정확한 측정을 위해서는 아래의 내용이 선수되어야 합니다.

1. 건 서치(이동전극, 고정전극 마모량의 정밀한 관리)
2. 건 암 휨량 설정(가압력별 건 암 휨량 설정)
3. 판넬 두께 설정(가압력별 판넬 두께 설정)
{% endhint %}
